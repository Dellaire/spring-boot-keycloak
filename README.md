# spring-boot-keycloak

## Acquire Access Token

curl -X POST --header "Content-Type: application/x-www-form-urlencoded" --data-urlencode "grant_type=password" --data-urlencode "client_id=testclient" --data-urlencode "client_secret=762c08c2-6c42-483e-b09f-bd3f925ccc04" --data-urlencode "username=testuser" --data-urlencode "password=password" "http://localhost:8080/auth/realms/testrealm/protocol/openid-connect/token"

## Call protected API

curl -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzQVo4VVZreTRBcHR4TkhISmZKNGluMkRldXd3c0hFaFM3VTlhWU1HUGhRIn0.eyJleHAiOjE1OTg2ODcxNDcsImlhdCI6MTU5ODY4Njg0NywianRpIjoiZDczM2U0NGMtOWNmMC00OTAxLWJlMGMtMzhkMGZkNGI0MTQwIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL3Rlc3RyZWFsbSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIxY2RkMjk5Zi0yNmZhLTRlNjktOTE3MS1mMjQyMTY3NDA3M2IiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJ0ZXN0Y2xpZW50Iiwic2Vzc2lvbl9zdGF0ZSI6IjU5NDI5Nzk1LTM3NTctNDY5OS04NGQyLWIyOWQwMjA1NDZkMiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwidGVzdHJvbGUiXX0sInJlc291cmNlX2FjY2VzcyI6eyJ0ZXN0Y2xpZW50Ijp7InJvbGVzIjpbInRlc3Ryb2xlIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsInByZWZlcnJlZF91c2VybmFtZSI6InRlc3R1c2VyIn0.n6_KQQKrflkjgKgzggUhCjbaZ18AQKQ7dpDnr3Sfqv1xpn_vICcr4au7rXBcBaB6YNEbSmwTuupkyRjilXh1LcUelfW9_JuPYpBthRxqM1C0NJu9FNi7_9-7oZGxhdA_70SYNxc06r50RpWv8249-gRdgmQGVgpqZNU9hbi9Z3DcHElpu1HJQVo3THPl54jgckaAHclmwd6dTsiwV1KaYqGno3vaKWOpku2N-phj49ACHXDmvtT8cj5sN9yfR30nZyURIEwGokdLcKynr7SI5Y9KWahWRHZvoxyxSYvxCp9eF5eLuPnvT4kHXvA-_AyjNmeVnyFH_wU0HK4fQyJ8aQ" "http://localhost:8081/protected"

## Useful Tutorials

https://medium.com/devops-dudes/securing-spring-boot-rest-apis-with-keycloak-1d760b2004e